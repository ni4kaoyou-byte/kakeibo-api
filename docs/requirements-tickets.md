# 要件定義チケット（今決めること）

このドキュメントは、要件定義チケットの初期ドラフトです。
現在の正本は `tickets/` ディレクトリで管理します。

## チケット一覧

| ID | タイトル | 成果物 | 受け入れ条件 | 依存 |
|---|---|---|---|---|
| REQ-001 | 対象ユーザーと目的の定義 | ペルソナ1枚、プロダクト目的文 | 「誰が」「何のために（日・月・年の収支把握）」が1文で説明できる | なし |
| REQ-002 | MVP機能の確定 | MVP機能リスト（Must/Should/Could） | MVPに含む/含まない機能が明確 | REQ-001 |
| REQ-003 | 業務ルールの確定 | 業務ルール一覧 | 金額・日付・収支種別など主要ルールに曖昧さがない | REQ-002 |
| REQ-004 | データモデル定義 | ER図、主要テーブル定義 | `users/transactions/categories/budgets` の責務が明確 | REQ-003 |
| REQ-005 | API契約定義 | API一覧、OpenAPIドラフト | CRUDと月次集計APIの入出力とエラーが定義済み | REQ-003, REQ-004 |
| REQ-006 | 非機能要件定義 | NFR一覧 | 認証、性能、監査、バックアップ、テスト範囲が定義済み | REQ-005 |
| REQ-007 | 受け入れ条件定義 | ユースケース別Acceptance Criteria | 正常系/異常系/認可エラーの条件がある | REQ-005, REQ-006 |
| REQ-008 | Definition of Done定義 | DoD文書 | チェック項目がレビューで運用可能 | REQ-007 |
| REQ-009 | 実装チケット分解 | エピック・ストーリー・タスク一覧 | 1チケットが0.5〜2日で完了できる粒度 | REQ-008 |

## チケット詳細

### REQ-001 対象ユーザーと目的の定義
- 説明: 最初にスコープを固定する。
- 例: 「個人ユーザーが日・月・年の収支を把握する」
- 完了条件: 目的文がレビューで合意されている。

### REQ-002 MVP機能の確定
- 説明: 初期リリースの機能を明確化する。
- 対象例: 収支登録、カテゴリ管理、月次集計、予算設定。
- 完了条件: Must/Should/Could の分類が完了している。

### REQ-003 業務ルールの確定
- 説明: システムが必ず守るルールを定義する。
- 対象例: 金額 > 0、収支種別は `income/expense`、日付は未来不可。
- 完了条件: 主要ルールに例外ケースを含めて定義済み。

### REQ-004 データモデル定義
- 説明: 永続化構造を決める。
- 対象: `users`, `transactions`, `categories`, `budgets`。
- 完了条件: 主キー、外部キー、ユニーク制約が確定している。

### REQ-005 API契約定義
- 説明: APIの責務とI/Oを確定する。
- 対象例:
  - `GET /transactions/{id}`
  - `POST /transactions`
  - `PATCH /transactions/{id}`
  - `DELETE /transactions/{id}`
  - `GET /reports/monthly?year=2026&month=2`
  - `GET/POST/PATCH/DELETE /categories`
  - `GET/POST/PATCH/DELETE /budgets`
- 完了条件: ステータスコードとエラーフォーマットまで確定している。

### REQ-006 非機能要件定義
- 説明: 運用品質の要件を定義する。
- 対象: 認証方式（JWT等）、レスポンス目標、監査ログ、バックアップ、テスト範囲。
- 完了条件: 数値目標と運用方針が明文化されている。

### REQ-007 受け入れ条件定義
- 説明: 実装完了判定を機能ごとに統一する。
- 完了条件: 各APIに正常系・異常系・認可エラーの条件がある。

### REQ-008 Definition of Done定義
- 説明: PRを閉じる基準を明確化する。
- 完了条件: テスト、レビュー、ドキュメント更新の必須条件が定義済み。

### REQ-009 実装チケット分解
- 説明: 要件を実装可能な粒度に分割する。
- 完了条件: 依存関係と優先順位付きの実装バックログがある。
